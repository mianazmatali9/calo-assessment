BACKEND_PATTERN="applications/backend"
FRONTEND_PATTERN="applications/frontend"

if git diff --cached --name-only | grep --quiet "$BACKEND_PATTERN" && git diff --cached --name-only | grep --quiet "$FRONTEND_PATTERN"; then
  echo "️➡️ Typecheck backend & frontend applications"
  pnpm typecheck

elif git diff --cached --name-only | grep --quiet "$BACKEND_PATTERN"; then
  echo "➡️ Typecheck backend applications"

elif git diff --cached --name-only | grep --quiet "$FRONTEND_PATTERN"; then
  echo "➡️ Typecheck frontend applications"
  pnpm typecheck

else
  echo "✅ No applications to lint"
fi
